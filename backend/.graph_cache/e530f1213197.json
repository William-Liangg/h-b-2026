{"files": ["EXPECTED_OUTCOMES.md", "IMPLEMENTATION.md", "README.md", "analysis/__init__.py", "analysis/explainer.py", "analysis/matcher.py", "app.py", "config.py", "extraction/__init__.py", "extraction/llm_extractor.py", "extraction/pdf_parser.py", "models/__init__.py", "models/schemas.py", "render.yaml", "requirements.txt", "runtime.txt", "static/css/style.css", "templates/base.html", "templates/index.html", "templates/results.html"], "edges": [{"source": "analysis/__init__.py", "target": "analysis/matcher.py"}, {"source": "analysis/__init__.py", "target": "analysis/explainer.py"}, {"source": "analysis/explainer.py", "target": "config.py"}, {"source": "analysis/explainer.py", "target": "models/schemas.py"}, {"source": "analysis/matcher.py", "target": "config.py"}, {"source": "analysis/matcher.py", "target": "models/schemas.py"}, {"source": "app.py", "target": "config.py"}, {"source": "app.py", "target": "extraction/__init__.py"}, {"source": "app.py", "target": "analysis/__init__.py"}, {"source": "extraction/__init__.py", "target": "extraction/pdf_parser.py"}, {"source": "extraction/__init__.py", "target": "extraction/llm_extractor.py"}, {"source": "extraction/llm_extractor.py", "target": "config.py"}, {"source": "extraction/llm_extractor.py", "target": "models/schemas.py"}, {"source": "extraction/llm_extractor.py", "target": "extraction/pdf_parser.py"}, {"source": "models/__init__.py", "target": "models/schemas.py"}], "root": "/Users/synonymrolls/Desktop/h@b/h-b-2026/backend/.repos/e530f1213197", "file_analyses": {"EXPECTED_OUTCOMES.md": {"importance_score": 2, "summary": "Test specification document outlining expected analysis results for three predefined document sets (clean match, price variance, and quantity variance).", "responsibilities": ["Define expected test outcomes", "Specify test scenarios", "Document validation criteria", "Guide testing process"], "key_exports": ["SET 1: Clean Match", "SET 2: Price Variance", "SET 3: Quantity Variance"], "onboarding_reason": "Useful for understanding test cases but not essential for understanding core functionality."}, "IMPLEMENTATION.md": {"importance_score": 8, "summary": "Comprehensive implementation guide providing technical overview, architecture design, and step-by-step development phases for the AP invoice exception analyzer.", "responsibilities": ["Document system architecture", "Define implementation phases", "Specify technology choices", "Guide development workflow"], "key_exports": ["Architecture diagram", "Processing flow", "File structure", "Phase breakdown"], "onboarding_reason": "Critical for understanding the overall system design and how all components work together."}, "README.md": {"importance_score": 9, "summary": "Primary documentation file providing setup instructions, feature overview, and usage guide for the AP invoice exception analyzer.", "responsibilities": ["Document setup process", "Explain key features", "Provide usage examples", "Guide initial user experience"], "key_exports": ["Setup instructions", "Sample scenarios", "API usage examples", "Configuration guide"], "onboarding_reason": "Essential starting point that explains what the system does and how to get it running."}, "analysis/__init__.py": {"importance_score": 5, "summary": "Package initialization file that exposes the main analysis functions (matching and explanation generation) to other modules.", "responsibilities": ["Export core analysis functions", "Define package interface", "Organize module imports", "Provide clean API surface"], "key_exports": ["match_documents", "generate_explanation", "generate_quick_summary"], "onboarding_reason": "Shows the main analysis capabilities but implementation details are in the actual modules."}, "analysis/explainer.py": {"importance_score": 7, "summary": "Generates plain-English explanations of match results using Claude LLM, providing business-friendly summaries and actionable recommendations for AP clerks.", "responsibilities": ["Generate match explanations", "Create business recommendations", "Format results for users", "Interface with Claude API"], "key_exports": ["generate_explanation", "EXPLANATION_PROMPT", "_format_exceptions_for_prompt"], "onboarding_reason": "Important for understanding how the system translates technical analysis into user-friendly explanations."}, "analysis/matcher.py": {"importance_score": 8, "summary": "Core 3-way matching algorithm that compares Purchase Orders, Invoices, and Goods Receipts to detect discrepancies and generate exception reports.", "responsibilities": ["Perform 3-way document matching", "Detect price/quantity variances", "Generate exception reports", "Calculate match scores"], "key_exports": ["match_documents", "_match_line_items_po_invoice", "_check_price_variance", "_determine_recommendation"], "onboarding_reason": "Core business logic that implements the main value proposition of the system - essential to understand."}, "app.py": {"importance_score": 10, "summary": "Flask application entry point that handles web requests, file uploads, orchestrates the analysis pipeline, and serves results to users.", "responsibilities": ["Handle HTTP requests", "Manage file uploads", "Orchestrate analysis pipeline", "Serve web interface"], "key_exports": ["Flask app", "analyze()", "index()", "analyze_uploaded_files()"], "onboarding_reason": "Main entry point that ties everything together - start here to understand the complete user flow."}, "config.py": {"importance_score": 6, "summary": "Configuration module that defines API keys, matching thresholds, file upload settings, and sample document scenarios for the application.", "responsibilities": ["Define matching thresholds", "Configure API settings", "Manage sample scenarios", "Set Flask configurations"], "key_exports": ["ANTHROPIC_API_KEY", "PRICE_TOLERANCE_PERCENT", "SAMPLE_SCENARIOS", "UPLOAD_FOLDER"], "onboarding_reason": "Important for understanding system parameters and how to configure the application for different environments."}, "extraction/__init__.py": {"importance_score": 5, "summary": "Package initialization file that exposes document parsing and LLM extraction functions to other modules.", "responsibilities": ["Export extraction functions", "Define package interface", "Organize parser imports", "Provide extraction API"], "key_exports": ["parse_document", "extract_document", "parse_pdf", "extract_purchase_order"], "onboarding_reason": "Shows available extraction capabilities but implementation details are in the actual modules."}, "extraction/llm_extractor.py": {"importance_score": 7, "summary": "Uses Claude API to extract structured data from parsed PDF documents, converting raw text into Pydantic models for Purchase Orders, Invoices, and Goods Receipts.", "responsibilities": ["Interface with Claude API", "Convert text to structured data", "Handle different document types", "Manage extraction prompts"], "key_exports": ["extract_document", "extract_purchase_order", "PO_EXTRACTION_PROMPT", "INVOICE_EXTRACTION_PROMPT"], "onboarding_reason": "Critical for understanding how unstructured documents become structured data for analysis."}, "extraction/pdf_parser.py": {"importance_score": 6, "summary": "PDF and text file parser using pdfplumber to extract raw text and tables from documents, optimized for AP documents like Purchase Orders and Invoices.", "responsibilities": ["Parse PDF files", "Extract text and tables", "Handle file formats", "Provide document structure"], "key_exports": ["parse_document", "parse_pdf", "ParsedDocument", "format_for_llm"], "onboarding_reason": "Foundation of the data pipeline - understanding this helps you see how documents enter the system."}, "models/__init__.py": {"importance_score": 4, "summary": "Package initialization file that exposes all Pydantic data models and enums used throughout the application.", "responsibilities": ["Export data models", "Define type interfaces", "Organize schema imports", "Provide model API"], "key_exports": ["LineItem", "PurchaseOrder", "Invoice", "MatchResult", "ExceptionType"], "onboarding_reason": "Shows available data structures but the actual model definitions provide more insight."}, "models/schemas.py": {"importance_score": 8, "summary": "Defines the core Pydantic data models for purchase orders, invoices, goods receipts, and exception detection. This file establishes the fundamental data structure for the entire 3-way matching system.", "responsibilities": ["Define document schemas for PO, Invoice, and GoodsReceipt", "Enumerate exception types and severity levels", "Structure match results and exception details", "Provide data validation through Pydantic models"], "key_exports": ["PurchaseOrder", "Invoice", "GoodsReceipt", "MatchException", "MatchResult", "ExceptionType", "ExceptionSeverity"], "onboarding_reason": "Essential reading as it defines the core data structures that drive the entire application's business logic."}, "render.yaml": {"importance_score": 2, "summary": "Deployment configuration for Render.com hosting platform. Specifies Python runtime, build/start commands, and environment variables for production deployment.", "responsibilities": ["Define production deployment settings", "Configure environment variables", "Specify build and start commands"], "key_exports": [], "onboarding_reason": "Only relevant for deployment concerns, not core application logic."}, "requirements.txt": {"importance_score": 3, "summary": "Python package dependencies including Flask, Pydantic, PDF processing, Anthropic API, and testing libraries. Shows the technology stack used.", "responsibilities": ["Define all Python package dependencies", "Specify version constraints for stability", "Enable reproducible environment setup"], "key_exports": [], "onboarding_reason": "Useful for understanding the technology stack but not critical for understanding business logic."}, "runtime.txt": {"importance_score": 1, "summary": "Specifies Python 3.11.0 as the runtime version for deployment platforms. Simple configuration file.", "responsibilities": ["Define Python runtime version for deployment"], "key_exports": [], "onboarding_reason": "Trivial configuration file with no impact on application functionality."}, "static/css/style.css": {"importance_score": 2, "summary": "CSS stylesheet defining the visual design system with variables, component styles, and responsive layout for the web interface.", "responsibilities": ["Define visual design system and color scheme", "Style UI components like cards, buttons, and alerts", "Provide responsive layout structure", "Create consistent typography and spacing"], "key_exports": [], "onboarding_reason": "Only important for frontend styling concerns, not application logic or data flow."}, "templates/base.html": {"importance_score": 4, "summary": "Base HTML template providing common layout structure, navigation header, flash message handling, and footer for all pages.", "responsibilities": ["Provide common HTML structure for all pages", "Handle flash message display", "Define site header and navigation", "Include CSS and script blocks"], "key_exports": [], "onboarding_reason": "Important for understanding the overall page structure but not critical for core business logic."}, "templates/index.html": {"importance_score": 5, "summary": "Main upload page template with file input forms, client-side validation, and explanation of the 3-way matching process.", "responsibilities": ["Provide document upload interface", "Implement client-side file validation", "Explain the analysis process to users", "Handle form submission to analysis endpoint"], "key_exports": [], "onboarding_reason": "Key user interface component that shows how users interact with the system and initiate the analysis process."}, "templates/results.html": {"importance_score": 6, "summary": "Results display template showing match scores, document summaries, and detailed exception listings with severity indicators and explanations.", "responsibilities": ["Display analysis results and recommendations", "Show document comparison details", "Present exceptions with severity and explanations", "Provide match score visualization"], "key_exports": [], "onboarding_reason": "Important for understanding how analysis results are presented to users and what information is surfaced from the matching process."}}, "onboarding_path": [{"file": "README.md", "summary": "Primary documentation file providing setup instructions, feature overview, and usage guide for the AP invoice exception analyzer.", "reason": "Start here to understand what the AP invoice exception analyzer does, its features, and how to set it up. This provides essential context before diving into the code.", "importance_score": 9, "responsibilities": ["Document setup process", "Explain key features", "Provide usage examples", "Guide initial user experience"], "key_exports": ["Setup instructions", "Sample scenarios", "API usage examples", "Configuration guide"]}, {"file": "IMPLEMENTATION.md", "summary": "Comprehensive implementation guide providing technical overview, architecture design, and step-by-step development phases for the AP invoice exception analyzer.", "reason": "Read this next to understand the technical architecture, design decisions, and development phases. This gives you the big picture of how all components work together.", "importance_score": 8, "responsibilities": ["Document system architecture", "Define implementation phases", "Specify technology choices", "Guide development workflow"], "key_exports": ["Architecture diagram", "Processing flow", "File structure", "Phase breakdown"]}, {"file": "models/schemas.py", "summary": "Defines the core Pydantic data models for purchase orders, invoices, goods receipts, and exception detection. This file establishes the fundamental data structure for the entire 3-way matching system.", "reason": "Study the core data models first since they define the fundamental structure used throughout the entire system. Understanding Purchase Orders, Invoices, and Goods Receipt models is crucial for everything else.", "importance_score": 8, "responsibilities": ["Define document schemas for PO, Invoice, and GoodsReceipt", "Enumerate exception types and severity levels", "Structure match results and exception details", "Provide data validation through Pydantic models"], "key_exports": ["PurchaseOrder", "Invoice", "GoodsReceipt", "MatchException", "MatchResult", "ExceptionType", "ExceptionSeverity"]}, {"file": "config.py", "summary": "Configuration module that defines API keys, matching thresholds, file upload settings, and sample document scenarios for the application.", "reason": "Learn about the configuration settings, API keys, thresholds, and sample scenarios. This shows how the system is parameterized and what dependencies exist.", "importance_score": 6, "responsibilities": ["Define matching thresholds", "Configure API settings", "Manage sample scenarios", "Set Flask configurations"], "key_exports": ["ANTHROPIC_API_KEY", "PRICE_TOLERANCE_PERCENT", "SAMPLE_SCENARIOS", "UPLOAD_FOLDER"]}, {"file": "extraction/pdf_parser.py", "summary": "PDF and text file parser using pdfplumber to extract raw text and tables from documents, optimized for AP documents like Purchase Orders and Invoices.", "reason": "Start with the basic PDF parsing functionality to understand how raw documents are converted to text. This is the foundation of the data extraction pipeline.", "importance_score": 6, "responsibilities": ["Parse PDF files", "Extract text and tables", "Handle file formats", "Provide document structure"], "key_exports": ["parse_document", "parse_pdf", "ParsedDocument", "format_for_llm"]}, {"file": "extraction/llm_extractor.py", "summary": "Uses Claude API to extract structured data from parsed PDF documents, converting raw text into Pydantic models for Purchase Orders, Invoices, and Goods Receipts.", "reason": "Build on PDF parsing knowledge to see how raw text is converted into structured Pydantic models using Claude API. This completes the data extraction understanding.", "importance_score": 7, "responsibilities": ["Interface with Claude API", "Convert text to structured data", "Handle different document types", "Manage extraction prompts"], "key_exports": ["extract_document", "extract_purchase_order", "PO_EXTRACTION_PROMPT", "INVOICE_EXTRACTION_PROMPT"]}, {"file": "analysis/matcher.py", "summary": "Core 3-way matching algorithm that compares Purchase Orders, Invoices, and Goods Receipts to detect discrepancies and generate exception reports.", "reason": "Now understand the core 3-way matching algorithm that compares the structured data to detect discrepancies. This is the heart of the business logic.", "importance_score": 8, "responsibilities": ["Perform 3-way document matching", "Detect price/quantity variances", "Generate exception reports", "Calculate match scores"], "key_exports": ["match_documents", "_match_line_items_po_invoice", "_check_price_variance", "_determine_recommendation"]}, {"file": "analysis/explainer.py", "summary": "Generates plain-English explanations of match results using Claude LLM, providing business-friendly summaries and actionable recommendations for AP clerks.", "reason": "See how technical match results are converted into business-friendly explanations using Claude LLM. This bridges technical output with user-friendly presentation.", "importance_score": 7, "responsibilities": ["Generate match explanations", "Create business recommendations", "Format results for users", "Interface with Claude API"], "key_exports": ["generate_explanation", "EXPLANATION_PROMPT", "_format_exceptions_for_prompt"]}, {"file": "app.py", "summary": "Flask application entry point that handles web requests, file uploads, orchestrates the analysis pipeline, and serves results to users.", "reason": "Study the Flask application entry point that orchestrates all the components you've learned about. This shows how everything comes together in the web interface.", "importance_score": 10, "responsibilities": ["Handle HTTP requests", "Manage file uploads", "Orchestrate analysis pipeline", "Serve web interface"], "key_exports": ["Flask app", "analyze()", "index()", "analyze_uploaded_files()"]}, {"file": "templates/results.html", "summary": "Results display template showing match scores, document summaries, and detailed exception listings with severity indicators and explanations.", "reason": "Finally, see how the results are presented to users in the web interface. This completes your understanding of the user experience.", "importance_score": 6, "responsibilities": ["Display analysis results and recommendations", "Show document comparison details", "Present exceptions with severity and explanations", "Provide match score visualization"], "key_exports": []}]}