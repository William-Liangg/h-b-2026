{"files": ["EXPECTED_OUTCOMES.md", "IMPLEMENTATION.md", "README.md", "analysis/__init__.py", "analysis/explainer.py", "analysis/matcher.py", "app.py", "config.py", "extraction/__init__.py", "extraction/llm_extractor.py", "extraction/pdf_parser.py", "models/__init__.py", "models/schemas.py", "render.yaml", "requirements.txt", "runtime.txt", "static/css/style.css", "templates/base.html", "templates/index.html", "templates/results.html"], "edges": [{"source": "analysis/__init__.py", "target": "analysis/matcher.py"}, {"source": "analysis/__init__.py", "target": "analysis/explainer.py"}, {"source": "analysis/explainer.py", "target": "config.py"}, {"source": "analysis/explainer.py", "target": "models/schemas.py"}, {"source": "analysis/matcher.py", "target": "config.py"}, {"source": "analysis/matcher.py", "target": "models/schemas.py"}, {"source": "app.py", "target": "config.py"}, {"source": "app.py", "target": "extraction/__init__.py"}, {"source": "app.py", "target": "analysis/__init__.py"}, {"source": "extraction/__init__.py", "target": "extraction/pdf_parser.py"}, {"source": "extraction/__init__.py", "target": "extraction/llm_extractor.py"}, {"source": "extraction/llm_extractor.py", "target": "config.py"}, {"source": "extraction/llm_extractor.py", "target": "models/schemas.py"}, {"source": "extraction/llm_extractor.py", "target": "extraction/pdf_parser.py"}, {"source": "models/__init__.py", "target": "models/schemas.py"}], "root": "/Users/synonymrolls/Desktop/h@b/h-b-2026/backend/.repos/e530f1213197", "file_analyses": {"EXPECTED_OUTCOMES.md": {"importance_score": 2, "summary": "A test specification document that outlines expected results for three predefined document matching scenarios (clean match, price variance, quantity variance).", "responsibilities": ["Define test cases for document matching", "Specify expected outcomes for validation", "Document which files correspond to each test scenario"], "key_exports": [], "onboarding_reason": "Useful for understanding test scenarios but not essential for understanding the core system architecture."}, "IMPLEMENTATION.md": {"importance_score": 8, "summary": "Comprehensive technical design document that outlines the complete architecture, technology choices, file structure, and implementation phases for the AP invoice analyzer.", "responsibilities": ["Define system architecture and component relationships", "Specify technology stack and design decisions", "Outline implementation phases and file organization", "Document processing flow and data models"], "key_exports": [], "onboarding_reason": "Essential reading for understanding the overall system design, architecture decisions, and how all components fit together."}, "README.md": {"importance_score": 9, "summary": "Main project documentation that provides setup instructions, feature overview, usage examples, and explains how the system works for both users and developers.", "responsibilities": ["Provide setup and installation instructions", "Document system features and capabilities", "Explain usage patterns and API", "Guide users through sample scenarios"], "key_exports": [], "onboarding_reason": "Critical starting point that explains what the system does, how to set it up, and provides the mental model for understanding the codebase."}, "analysis/__init__.py": {"importance_score": 5, "summary": "Module initialization file that exposes the main analysis functions for document matching and explanation generation.", "responsibilities": ["Export core analysis functions", "Define clean module interface", "Organize analysis package exports"], "key_exports": ["match_documents", "generate_explanation", "generate_quick_summary"], "onboarding_reason": "Shows the main entry points for the analysis module but the actual implementation is in other files."}, "analysis/explainer.py": {"importance_score": 7, "summary": "Generates human-readable explanations of matching results using Claude AI, converting technical exception data into business-friendly recommendations for AP clerks.", "responsibilities": ["Generate plain-English explanations for match results", "Create actionable recommendations for AP staff", "Format technical exceptions into business language", "Interface with Claude API for explanation generation"], "key_exports": ["generate_explanation", "EXPLANATION_PROMPT"], "onboarding_reason": "Important for understanding how the system communicates results to users and how AI is used for explanation generation."}, "analysis/matcher.py": {"importance_score": 8, "summary": "Core business logic that performs 3-way matching between purchase orders, invoices, and receipts, detecting discrepancies and generating structured exception reports.", "responsibilities": ["Implement 3-way document matching algorithm", "Detect price, quantity, and item discrepancies", "Calculate match scores and severity levels", "Generate structured exception reports"], "key_exports": ["match_documents", "_match_line_items_po_invoice", "_check_price_variance", "_calculate_match_score"], "onboarding_reason": "Contains the core business logic that defines what constitutes a match or exception - essential for understanding how the system actually works."}, "app.py": {"importance_score": 10, "summary": "Flask application entry point that handles web requests, file uploads, orchestrates the document processing pipeline, and renders results to users.", "responsibilities": ["Handle HTTP requests and file uploads", "Orchestrate the complete document processing pipeline", "Manage temporary file storage and cleanup", "Render web UI with results"], "key_exports": ["app", "analyze", "analyze_uploaded_files"], "onboarding_reason": "This is the main entry point that ties everything together - essential for understanding how the system works end-to-end."}, "config.py": {"importance_score": 6, "summary": "Configuration file that defines API keys, matching thresholds, severity levels, file upload settings, and sample document scenarios.", "responsibilities": ["Store API configuration and credentials", "Define matching tolerance thresholds", "Configure file upload settings", "Define sample test scenarios"], "key_exports": ["ANTHROPIC_API_KEY", "PRICE_TOLERANCE_PERCENT", "SAMPLE_SCENARIOS", "CLAUDE_MODEL"], "onboarding_reason": "Important for understanding system configuration options and how to tune the matching algorithm behavior."}, "extraction/__init__.py": {"importance_score": 5, "summary": "Module initialization file that exposes document parsing and LLM extraction functions, providing a clean interface for the extraction package.", "responsibilities": ["Export document parsing functions", "Export LLM extraction functions", "Define clean module interface", "Organize extraction package exports"], "key_exports": ["parse_document", "extract_document", "ParsedDocument", "detect_document_type"], "onboarding_reason": "Shows the main entry points for document processing but the actual implementation details are in other files."}, "extraction/llm_extractor.py": {"importance_score": 7, "summary": "Converts raw document text into structured data using Claude AI, with specialized prompts for extracting purchase orders, invoices, and goods receipts into Pydantic models.", "responsibilities": ["Interface with Claude API for data extraction", "Convert unstructured text to structured JSON", "Handle different document types with specialized prompts", "Validate and parse extracted data into Pydantic models"], "key_exports": ["extract_document", "extract_purchase_order", "extract_invoice", "PO_EXTRACTION_PROMPT"], "onboarding_reason": "Key component for understanding how unstructured documents become structured data that can be analyzed."}, "extraction/pdf_parser.py": {"importance_score": 6, "summary": "Handles PDF and text file parsing using pdfplumber, extracting raw text and table data that feeds into the LLM extraction pipeline.", "responsibilities": ["Extract text and tables from PDF documents", "Parse plain text files", "Clean and structure raw extracted data", "Provide unified interface for different file types"], "key_exports": ["parse_document", "parse_pdf", "ParsedDocument", "format_for_llm"], "onboarding_reason": "Important for understanding the first stage of document processing and how files become analyzable data."}, "models/__init__.py": {"importance_score": 6, "summary": "Module initialization file that exports all the core data models and enums used throughout the application for type safety and data validation.", "responsibilities": ["Export core data models", "Export exception types and enums", "Define clean module interface", "Organize schema exports"], "key_exports": ["LineItem", "PurchaseOrder", "Invoice", "MatchResult", "ExceptionType", "MatchException"], "onboarding_reason": "Essential for understanding the data structures that flow through the entire system - the foundation for all other components."}, "models/schemas.py": {"importance_score": 8, "summary": "Defines core Pydantic data models for the AP invoice analysis system, including purchase orders, invoices, receipts, and exception structures.", "responsibilities": ["Define structured data models for all financial documents (PO, Invoice, Receipt)", "Specify exception types and severity levels for 3-way matching discrepancies", "Provide validation rules and type safety for document processing", "Structure the output format for analysis results and recommendations"], "key_exports": ["PurchaseOrder", "Invoice", "GoodsReceipt", "MatchException", "MatchResult", "ExceptionType", "ExceptionSeverity"], "onboarding_reason": "This is essential to understand as it defines the entire data structure and business logic flow of the application."}, "render.yaml": {"importance_score": 2, "summary": "Deployment configuration for Render cloud platform specifying Python runtime, build commands, and environment variables.", "responsibilities": ["Configure web service deployment settings", "Specify Python runtime and dependencies installation", "Define environment variables for production", "Set up Gunicorn server for production hosting"], "key_exports": [], "onboarding_reason": "Only relevant for deployment - not needed for understanding application functionality."}, "requirements.txt": {"importance_score": 3, "summary": "Python dependency specification file listing required packages for Flask web app, PDF processing, and LLM integration.", "responsibilities": ["Define core web framework dependencies (Flask, Pydantic)", "Specify PDF processing capabilities (pdfplumber)", "Include LLM integration (Anthropic Claude)", "List production server and testing dependencies"], "key_exports": [], "onboarding_reason": "Useful to understand the technology stack but not critical for code comprehension."}, "runtime.txt": {"importance_score": 1, "summary": "Simple configuration file specifying Python 3.11.0 as the runtime version for deployment.", "responsibilities": ["Specify exact Python version for consistent deployment"], "key_exports": [], "onboarding_reason": "Deployment configuration only - not relevant for understanding application logic."}, "static/css/style.css": {"importance_score": 2, "summary": "CSS stylesheet providing visual styling for the web interface including layout, cards, alerts, and responsive design.", "responsibilities": ["Define visual design system with CSS variables for colors and spacing", "Style document upload interface and form elements", "Provide responsive layout for analysis results display", "Style exception severity indicators and status badges"], "key_exports": [], "onboarding_reason": "Frontend styling only - not needed unless working on UI/UX improvements."}, "templates/base.html": {"importance_score": 4, "summary": "Base Jinja2 template providing common HTML structure, navigation, and flash message handling for the web application.", "responsibilities": ["Define consistent page structure and navigation header", "Handle flash message display for user feedback", "Provide responsive container layout", "Include CSS and JavaScript loading infrastructure"], "key_exports": [], "onboarding_reason": "Important for understanding the web interface structure but secondary to core business logic."}, "templates/index.html": {"importance_score": 5, "summary": "Main landing page template with file upload form and user instructions for document analysis workflow.", "responsibilities": ["Provide file upload interface for PO, Invoice, and Receipt documents", "Implement client-side validation for file types and requirements", "Explain the 4-step analysis process to users", "Handle form submission with error feedback"], "key_exports": [], "onboarding_reason": "Key entry point for user interaction - shows how the application workflow begins."}, "templates/results.html": {"importance_score": 6, "summary": "Results display template showing analysis outcomes, document summaries, exceptions found, and recommendations.", "responsibilities": ["Display match scores and approval recommendations with visual indicators", "Show structured document information in a comparative grid layout", "Present detailed exception analysis with severity levels and explanations", "Provide clear visual hierarchy for different types of discrepancies"], "key_exports": [], "onboarding_reason": "Critical for understanding how analysis results are presented to users and what information the system provides."}}, "onboarding_path": [{"file": "README.md", "summary": "Main project documentation that provides setup instructions, feature overview, usage examples, and explains how the system works for both users and developers.", "reason": "Start here to understand the project purpose, features, and overall system workflow. This gives you the business context and user perspective before diving into technical details.", "importance_score": 9, "responsibilities": ["Provide setup and installation instructions", "Document system features and capabilities", "Explain usage patterns and API", "Guide users through sample scenarios"], "key_exports": []}, {"file": "IMPLEMENTATION.md", "summary": "Comprehensive technical design document that outlines the complete architecture, technology choices, file structure, and implementation phases for the AP invoice analyzer.", "reason": "Read the technical design document to understand the complete architecture, technology stack, and implementation approach. This provides the technical foundation for understanding the codebase structure.", "importance_score": 8, "responsibilities": ["Define system architecture and component relationships", "Specify technology stack and design decisions", "Outline implementation phases and file organization", "Document processing flow and data models"], "key_exports": []}, {"file": "config.py", "summary": "Configuration file that defines API keys, matching thresholds, severity levels, file upload settings, and sample document scenarios.", "reason": "Understand the system configuration including API keys, thresholds, and settings. This file is used by most other modules and understanding it early helps contextualize how the system operates.", "importance_score": 6, "responsibilities": ["Store API configuration and credentials", "Define matching tolerance thresholds", "Configure file upload settings", "Define sample test scenarios"], "key_exports": ["ANTHROPIC_API_KEY", "PRICE_TOLERANCE_PERCENT", "SAMPLE_SCENARIOS", "CLAUDE_MODEL"]}, {"file": "models/schemas.py", "summary": "Defines core Pydantic data models for the AP invoice analysis system, including purchase orders, invoices, receipts, and exception structures.", "reason": "Learn the core data models that represent purchase orders, invoices, receipts, and exceptions. These models are the foundation for data flow throughout the entire application.", "importance_score": 8, "responsibilities": ["Define structured data models for all financial documents (PO, Invoice, Receipt)", "Specify exception types and severity levels for 3-way matching discrepancies", "Provide validation rules and type safety for document processing", "Structure the output format for analysis results and recommendations"], "key_exports": ["PurchaseOrder", "Invoice", "GoodsReceipt", "MatchException", "MatchResult", "ExceptionType", "ExceptionSeverity"]}, {"file": "models/__init__.py", "summary": "Module initialization file that exports all the core data models and enums used throughout the application for type safety and data validation.", "reason": "See how the data models are exported and made available to other modules. This is a quick read that shows the module structure.", "importance_score": 6, "responsibilities": ["Export core data models", "Export exception types and enums", "Define clean module interface", "Organize schema exports"], "key_exports": ["LineItem", "PurchaseOrder", "Invoice", "MatchResult", "ExceptionType", "MatchException"]}, {"file": "extraction/pdf_parser.py", "summary": "Handles PDF and text file parsing using pdfplumber, extracting raw text and table data that feeds into the LLM extraction pipeline.", "reason": "Understand how raw documents are parsed and text is extracted. This is the first step in the document processing pipeline and has no dependencies on other business logic.", "importance_score": 6, "responsibilities": ["Extract text and tables from PDF documents", "Parse plain text files", "Clean and structure raw extracted data", "Provide unified interface for different file types"], "key_exports": ["parse_document", "parse_pdf", "ParsedDocument", "format_for_llm"]}, {"file": "extraction/llm_extractor.py", "summary": "Converts raw document text into structured data using Claude AI, with specialized prompts for extracting purchase orders, invoices, and goods receipts into Pydantic models.", "reason": "Learn how raw text is converted into structured data using AI. This builds on PDF parsing and uses the data models you've already learned about.", "importance_score": 7, "responsibilities": ["Interface with Claude API for data extraction", "Convert unstructured text to structured JSON", "Handle different document types with specialized prompts", "Validate and parse extracted data into Pydantic models"], "key_exports": ["extract_document", "extract_purchase_order", "extract_invoice", "PO_EXTRACTION_PROMPT"]}, {"file": "analysis/matcher.py", "summary": "Core business logic that performs 3-way matching between purchase orders, invoices, and receipts, detecting discrepancies and generating structured exception reports.", "reason": "Study the core business logic that performs 3-way matching and detects discrepancies. This is where the main analytical work happens and uses the structured data from extraction.", "importance_score": 8, "responsibilities": ["Implement 3-way document matching algorithm", "Detect price, quantity, and item discrepancies", "Calculate match scores and severity levels", "Generate structured exception reports"], "key_exports": ["match_documents", "_match_line_items_po_invoice", "_check_price_variance", "_calculate_match_score"]}, {"file": "analysis/explainer.py", "summary": "Generates human-readable explanations of matching results using Claude AI, converting technical exception data into business-friendly recommendations for AP clerks.", "reason": "Understand how technical exceptions are converted into human-readable explanations. This builds on the matcher's output and completes the analysis pipeline.", "importance_score": 7, "responsibilities": ["Generate plain-English explanations for match results", "Create actionable recommendations for AP staff", "Format technical exceptions into business language", "Interface with Claude API for explanation generation"], "key_exports": ["generate_explanation", "EXPLANATION_PROMPT"]}, {"file": "app.py", "summary": "Flask application entry point that handles web requests, file uploads, orchestrates the document processing pipeline, and renders results to users.", "reason": "Study the main application entry point that orchestrates the entire pipeline. This ties together all the components you've learned about and shows how they work together in the web interface.", "importance_score": 10, "responsibilities": ["Handle HTTP requests and file uploads", "Orchestrate the complete document processing pipeline", "Manage temporary file storage and cleanup", "Render web UI with results"], "key_exports": ["app", "analyze", "analyze_uploaded_files"]}, {"file": "templates/results.html", "summary": "Results display template showing analysis outcomes, document summaries, exceptions found, and recommendations.", "reason": "Finally, see how the analysis results are presented to users. This completes your understanding of the full user experience from document upload to results display.", "importance_score": 6, "responsibilities": ["Display match scores and approval recommendations with visual indicators", "Show structured document information in a comparative grid layout", "Present detailed exception analysis with severity levels and explanations", "Provide clear visual hierarchy for different types of discrepancies"], "key_exports": []}]}